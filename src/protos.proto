syntax = "proto2";

package mentalpoker;

option java_package = "au.edu.unimelb.mentalpoker";
option java_outer_classname = "Proto";

message PeerAddress {
    optional string hostname = 1;
    optional int32 port = 2;
}

message GameStartedMessage {
    required int32 playerId = 1;
    repeated Player players = 2;
}

message Player {
    required int32 playerId = 1;
    required PeerAddress address = 2;
}

message JoinRoomMessage {
    required string playerName = 1;
}

message NetworkMessage {
    enum Type {
        JOIN_ROOM = 0;
        PLAYER_READY = 1;
        GAME_STARTED = 2;
        SYNC = 3;
        SYNC_ACK = 4;
    };

    required Type type = 1;

    optional JoinRoomMessage joinRoomMessage = 2;
    optional GameStartedMessage gameStartedMessage = 3;
}